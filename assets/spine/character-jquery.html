<html>
<head>
<meta charset="UTF-8">

<title>Spine-Characters | Using jQuery</title>
<script src="../../lib/spine-js/spine.js"></script>
<script src="../../lib/spine-js/spine-canvas.js"></script>
<script src="../../lib/jquery/jquery-2.1.3.min.js"></script>
</head>
<body>

<div class="container">
    <div class="row">
        <div class="col-lg-2"></div>
        <div class="col-lg-10">
            <canvas id="canvas" width="800" height="600"/>
        </div> <!-- end .col-lg-10 -->
        <div class="col-lg-2"></div>
    </div> <!-- end .row -->
    <div class="row">
        <div class="col-lg-12"></div>
            <button id="button-change-shirt">Change Shirt</button>
        </div>
        
    </div> <!-- end .row -->
</div>

<script type="text/javascript">

    var characterInfo = {};

    $(document).ready(function() {

        // Load the spine JSON.
        // --------------------
        var url = "character.json";
        $.get(url, function(ret) {
            console.log("[Success] GET on %s, ret=%o", url, ret);
            renderSpine(ret);
        });

        // Load the character info.
        // ------------------------
        url = "../json/character_generated.json";
        $.get(url, function(ret) {
            console.log("[Success] GET on %s, ret=%o", url, ret);
            characterInfo = JSON.parse(ret);
        });


    });

    var renderSpine = function(jsonString) {
        var renderer = new spine.SkeletonRenderer("./character_images/");
        renderer.scale = 0.5;
        renderer.load(jsonString);
        // renderer.state.data.defaultMix = 0.4;
        renderer.state.setAnimationByName(0, "idle", true);
        // renderer.state.addAnimationByName(0, "jump", false, 3);
        // renderer.state.addAnimationByName(0, "run", true, 0);
        renderer.skeleton.x = 400;
        renderer.skeleton.y = 300;
        renderer.animate("canvas");
    };


</script>

</body>
</html>